(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a98e8fa"],{"0d94":function(t,e,a){"use strict";a("db9b")},"6cc6":function(t,e,a){"use strict";a.r(e);var i=a("7a23"),n=Object(i["B"])("data-v-59b8d771");Object(i["s"])("data-v-59b8d771");var o={ref:"game_container",class:"game-content mt-1"},s={class:"game-controls"},r={class:"game-screen"},c={class:"overlay"},l={ref:"game_canvas"},u={ref:"game_start_modal",class:"game-modal"},h={class:"modal",tabindex:"-1"},d={class:"modal-dialog"},b={class:"modal-content"},f=Object(i["f"])("div",{class:"modal-header"},[Object(i["f"])("h5",{class:"modal-title"},"Disc Destroyer")],-1),_=Object(i["f"])("div",{class:"modal-body"},[Object(i["f"])("p",null,[Object(i["e"])("Welcome to "),Object(i["f"])("em",null,"Disc Destroyer"),Object(i["e"])(". This game is still a work in progress. Continue at your own risk.")]),Object(i["f"])("p",null,[Object(i["f"])("a",{href:"https://github.com/wadewest/vue3-arcade/issues"},"Report Bugs")])],-1),p={class:"modal-footer"},v={ref:"game_over_modal",class:"game-modal"},y={class:"modal",tabindex:"-1"},m={class:"modal-dialog"},j={class:"modal-content"},O=Object(i["f"])("div",{class:"modal-header"},[Object(i["f"])("h5",{class:"modal-title"},"Game Over")],-1),g={class:"modal-body"},w=Object(i["f"])("p",null,"Would you like to play again?",-1),k={class:"modal-footer"};Object(i["q"])();var x=n((function(t,e,a,n,x,M){return Object(i["p"])(),Object(i["d"])("div",o,[Object(i["f"])("div",s,[Object(i["f"])("button",{class:"btn btn-secondary",onClick:e[1]||(e[1]=function(){return t.toggle_pause.apply(t,arguments)})},Object(i["y"])(t.game_world.is_paused?"Resume":"Pause"),1)]),Object(i["f"])("div",r,[Object(i["f"])("div",c,[Object(i["f"])("div",null,"Health: "+Object(i["y"])(t.player.health),1),Object(i["f"])("div",null,"Score: "+Object(i["y"])(t.player.score),1),Object(i["f"])("div",null,"Accuracy: "+Object(i["y"])(Math.floor(100*t.player.accuracy))+"%",1)]),Object(i["f"])("canvas",l,null,512)]),Object(i["f"])("div",u,[Object(i["f"])("div",h,[Object(i["f"])("div",d,[Object(i["f"])("div",b,[f,_,Object(i["f"])("div",p,[Object(i["f"])("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=function(){return t.start_game.apply(t,arguments)})},"Start Game")])])])])],512),Object(i["f"])("div",v,[Object(i["f"])("div",y,[Object(i["f"])("div",m,[Object(i["f"])("div",j,[O,Object(i["f"])("div",g,[Object(i["f"])("h2",null,"Your Score: "+Object(i["y"])(t.game_world.player.score),1),w]),Object(i["f"])("div",k,[Object(i["f"])("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=function(){return t.start_game.apply(t,arguments)})},"New Game")])])])])],512)],512)})),M=a("d4ec"),S=a("bee2"),P=(a("4160"),a("159b"),a("45eb")),D=a("7e84"),E=a("262e"),A=a("2caf"),C=a("7cda"),G=a("8c33"),R=a("a15b"),I=a("e142"),K=a("aa84"),q=(a("cb29"),a("6280")),B=a("bd27"),J=function(t){Object(E["a"])(a,t);var e=Object(A["a"])(a);function a(t,i,n,o){var s;return Object(M["a"])(this,a),s=e.call(this,t,i,o),s.fill_color=I["a"].create_random(),s.radius=n,s}return Object(S["a"])(a,[{key:"draw_sprite",value:function(t){t.beginPath(),t.arc(this.location.x,this.location.y,this.radius,0,2*Math.PI,!1),t.fillStyle=this.fill_color.rgba,t.fill()}},{key:"move_to",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=Math.atan2(t.x-this.location.x,t.y-this.location.y);return this.velocity=new K["a"](Math.sin(a)*e,Math.cos(a)*e),this}},{key:"teleport_to_random_border_location",value:function(){var t=Math.floor(4*Math.random());switch(t){case 0:this.location.x=this.bounding_box.x+Math.random()*(this.bounding_box.width-2*this.radius)-this.radius,this.location.y=this.bounding_box.y+this.radius;break;case 1:this.location.x=this.bounding_box.x+this.bounding_box.width-this.radius,this.location.y=this.bounding_box.y+Math.random()*(this.bounding_box.height-2*this.radius)-this.radius;break;case 2:this.location.x=this.bounding_box.x+Math.random()*(this.bounding_box.width-2*this.radius)-this.radius,this.location.y=this.bounding_box.y+this.bounding_box.height-this.radius;break;case 3:this.location.x=this.bounding_box.x+this.radius,this.location.y=this.bounding_box.y+Math.random()*(this.bounding_box.height-2*this.radius)-this.radius;break}return this}},{key:"collision_box",get:function(){return B["a"].centered_at(this.location,2*this.radius,2*this.radius)}}]),a}(q["a"]),L=a("bcbf"),T=function(t){Object(E["a"])(a,t);var e=Object(A["a"])(a);function a(t){var i;return Object(M["a"])(this,a),i=e.call(this,t),i.shrink_amount=5,i.shrinK_speed=2,i.old_state=t.state,i}return Object(S["a"])(a,[{key:"work_complete",value:function(){this.sprite.state=this.old_state}},{key:"will_update",value:function(t){var e=this.shrink_amount*t*this.shrinK_speed;return this.sprite.radius-=e,this.shrink_amount-=e,this.shrink_amount<=.1&&this.work_complete(),Object(P["a"])(Object(D["a"])(a.prototype),"will_update",this).call(this,t)}}]),a}(L["a"]),W=function(t){Object(E["a"])(a,t);var e=Object(A["a"])(a);function a(t){var i;return Object(M["a"])(this,a),i=e.call(this,t),i.shrink_amount=t.radius,i.shrinK_speed=25,i}return Object(S["a"])(a,[{key:"work_complete",value:function(){this.sprite.kill()}}]),a}(T),Y=function(t){Object(E["a"])(a,t);var e=Object(A["a"])(a);function a(t){var i;return Object(M["a"])(this,a),i=e.call(this,K["a"].origin,null,0,t),i.speed=15+Math.floor(6*Math.random()),i.health=2+Math.floor(4*Math.random()),i.radius=5+5*i.health,i.bounding_box=i.bounding_box.grow(4*i.radius,4*i.radius),i.fill_color=a.colors[Math.floor(Math.random()*a.colors.length)],i.teleport_to_random_border_location(),i.move_to(i.bounding_box.center,i.speed),i}return Object(S["a"])(a,[{key:"take_damage",value:function(){this.health-=1,this.health<=0?this.state=new W(this):(this.state=new T(this),this.speed*=1.5,this.move_to(this.bounding_box.center,this.speed))}}]),a}(J);Y.colors=[new I["a"](255,0,255),new I["a"](255,127,255),new I["a"](0,127,127),new I["a"](0,255,255)];var F=function(t){Object(E["a"])(a,t);var e=Object(A["a"])(a);function a(t,i){var n;return Object(M["a"])(this,a),n=e.call(this,t.location.copy(),null,2,t.bounding_box.grow(5,5)),n.move_to(i,500),t.shots_fired+=1,n.shooter=t,n.fill_color=new I["a"](255,0,0),n}return Object(S["a"])(a,[{key:"did_leave_bounding_box",value:function(){Object(P["a"])(Object(D["a"])(a.prototype),"did_leave_bounding_box",this).call(this),this.shooter.update_accuracy_score()}}]),a}(J),H=(a("4de4"),a("257e")),N=function(t){Object(E["a"])(a,t);var e=Object(A["a"])(a);function a(t,i){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return Object(M["a"])(this,a),n=e.call(this,t.location.copy(),null,o,t.bounding_box.copy()),n.fill_color=i.copy(),n.fill_color.alpha=1,n.move_to(new K["a"](n.bounding_box.x+Math.random()*n.bounding_box.width,n.bounding_box.y+Math.random()*n.bounding_box.height),50+50*Math.random()),n.decay_rate=(Math.floor(1001*Math.random())+1e3)/1e3,n}return Object(S["a"])(a,[{key:"did_update",value:function(t){Object(P["a"])(Object(D["a"])(a.prototype),"did_update",this).call(this,t);var e=this.fill_color.alpha-this.decay_rate*t;e>0?this.fill_color.alpha=e:this.kill()}}]),a}(J),X=function(t){Object(E["a"])(a,t);var e=Object(A["a"])(a);function a(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;Object(M["a"])(this,a),i=e.call(this,t.location.copy(),null,B["a"].centered_at(t.location,200,200)),i.particles=[];for(var s=0;s<o;s++)i.particles.push(new N(Object(H["a"])(i),t.fill_color,n));return i}return Object(S["a"])(a,[{key:"update",value:function(t){this.particles=this.particles.filter((function(e){return e.update(t),e.status!==R["a"].Dead}))}},{key:"draw_sprite",value:function(t){this.particles.forEach((function(e){return e.draw_sprite(t)}))}},{key:"collision_box",get:function(){return B["a"].null_rect.copy()}}]),a}(q["a"]),z=function(t){Object(E["a"])(a,t);var e=Object(A["a"])(a);function a(t){var i;return Object(M["a"])(this,a),i=e.call(this),i.spawn_rate=0,i._player=t,i.reset(),i}return Object(S["a"])(a,[{key:"reset",value:function(){this.sprites.length=0,this.sprites.push([this._player]),this.sprites.push([]),this.sprites.push([]),this.sprites.push([]),this.player.reset()}},{key:"will_update",value:function(t){if(1e3*Math.random()<this.spawn_rate){Math.floor(15*Math.random());this.enemies.push(new Y(this.viewport))}return!0}},{key:"did_update",value:function(){this.player.score<200?this.spawn_rate=2:this.player.score<500?this.spawn_rate=3:this.player.score<900?this.spawn_rate=5:this.spawn_rate=8,this.player.health<=0&&(this.player.health=0)}},{key:"fire_projectile_to",value:function(t){this.is_paused||this.projectiles.length>=3||this.projectiles.push(new F(this.player,t))}},{key:"detect_collisions",value:function(t){var e=this;this.enemies.forEach((function(t){t.location.compare_distance(e.player.location,t.radius+e.player.radius)<=0&&(t.kill(),e.player.health-=1),e.projectiles.forEach((function(a){t.location.compare_distance(a.location,t.radius+a.radius)<=0&&(t.take_damage(),e.player.hits+=1,e.player.update_accuracy_score(),a.kill(),e.explosions.push(new X(a,1,25)))}))}))}},{key:"sprite_cleanup",value:function(t){var e=this;this.enemies.forEach((function(t){t.status===R["a"].Dead&&(t.health<=0&&(e.player.score+=Math.round(10*e.player.accuracy)),e.explosions.push(new X(t,3,75)))})),Object(P["a"])(Object(D["a"])(a.prototype),"sprite_cleanup",this).call(this,t)}},{key:"player",get:function(){return this._player}},{key:"projectiles",get:function(){return this.sprites[1]}},{key:"enemies",get:function(){return this.sprites[2]}},{key:"explosions",get:function(){return this.sprites[3]}},{key:"is_paused",get:function(){return this.status==G["a"].Paused}}]),a}(C["a"]),Q=a("c51f"),U=function(t){Object(E["a"])(a,t);var e=Object(A["a"])(a);function a(t){var i;return Object(M["a"])(this,a),i=e.call(this,t),i.fill_color=new I["a"](127,127,127,.5),i.old_state=t.state,i.status=G["a"].Paused,i}return Object(S["a"])(a,[{key:"work_complete",value:function(){this.world.state=this.old_state}},{key:"will_update",value:function(t){return!1}},{key:"did_draw",value:function(t){t.fillStyle=this.fill_color.rgba,t.fillRect(0,0,this.world.viewport.width,this.world.viewport.height)}}]),a}(Q["a"]),V=function(t){Object(E["a"])(a,t);var e=Object(A["a"])(a);function a(t,i){var n;return Object(M["a"])(this,a),n=e.call(this,t,null,20,i),n.health=5,n.shots_fired=0,n.hits=0,n._accuracy=1,n._score=0,n.fill_color=new I["a"](255,255,0,1),n.reset(),n}return Object(S["a"])(a,[{key:"reset",value:function(){this.health=5,this.shots_fired=0,this.hits=0,this._accuracy=1,this._score=0}},{key:"update_accuracy_score",value:function(){this._accuracy=this.hits/this.shots_fired}},{key:"accuracy",get:function(){return this._accuracy}},{key:"score",get:function(){return this._score},set:function(t){this.update_accuracy_score(),this._score=t}}]),a}(J),Z=function(){function t(e,a){Object(M["a"])(this,t),this.modal_element=e}return Object(S["a"])(t,[{key:"show",value:function(){this.modal_element.dataset.modalShow=""}},{key:"hide",value:function(){delete this.modal_element.dataset.modalShow}}]),t}(),$={setup:function(){var t=Object(i["u"])(null),e=Object(i["u"])(null),a=Object(i["u"])(null),n=Object(i["u"])(null),o=new B["a"](0,0,640,480),s=Object(i["t"])(new V(o.midpoint(),o.copy())),r=Object(i["t"])(new z(s)),c=new Q["a"](r,G["a"].Starting);c.will_update=function(){return!1},c.will_draw=function(){return!1};var l=new Q["a"](r,G["a"].GameOver),u={start_game:null,game_over:null};function h(t){if(e.value){var a=d(e.value);r.fire_projectile_to(new K["a"](t.pageX-a.x,t.pageY-a.y))}}function d(t){var e=new K["a"](0,0),a=t;do{if(e.x+=a.offsetLeft,e.y+=a.offsetTop,!a.offsetParent)return e;a=a.offsetParent}while(1)}function b(){var i;if(e.value&&t.value){u.start_game=new Z(a.value,{backdrop:"static"}),u.game_over=new Z(n.value,{backdrop:"static"}),e.value.width=o.width,e.value.height=o.height,r.state=c;var s=e.value.getContext("2d");r.setup(s),null===(i=s.canvas.parentElement)||void 0===i||i.addEventListener("click",h),setInterval(_,0),p(s)}}function f(){r.reset(),r.state=new Q["a"](r)}function _(){r.update(Math.floor(performance.now())/1e3)}function p(t){t.clearRect(0,0,o.width,o.height),r.draw(t),requestAnimationFrame((function(){return p(t)}))}function v(){r.is_paused?r.state.work_complete():r.state=new U(r)}return Object(i["n"])(b),Object(i["A"])((function(){return r.state}),(function(t,e){var a,i,n,o;switch(null===(a=u.start_game)||void 0===a||a.hide(),null===(i=u.game_over)||void 0===i||i.hide(),r.status){case G["a"].Starting:null===(n=u.start_game)||void 0===n||n.show();break;case G["a"].GameOver:null===(o=u.game_over)||void 0===o||o.show();break}})),Object(i["A"])((function(){return r.player.health}),(function(t,e){t<=0&&(r.state=l)})),{player:s,game_world:r,game_container:t,game_canvas:e,game_start_modal:a,game_over_modal:n,start_game:f,toggle_pause:v}}};a("0d94");$.render=x,$.__scopeId="data-v-59b8d771";e["default"]=$},"81d5":function(t,e,a){"use strict";var i=a("7b0b"),n=a("23cb"),o=a("50c4");t.exports=function(t){var e=i(this),a=o(e.length),s=arguments.length,r=n(s>1?arguments[1]:void 0,a),c=s>2?arguments[2]:void 0,l=void 0===c?a:n(c,a);while(l>r)e[r++]=t;return e}},cb29:function(t,e,a){var i=a("23e7"),n=a("81d5"),o=a("44d2");i({target:"Array",proto:!0},{fill:n}),o("fill")},db9b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0a98e8fa.2437ee08.js.map